{"version":3,"sources":["reporter.coffee"],"names":[],"mappings":"AAAA,IAAA,0DAAA;EAAA;;;AAAA,IAAA,GAAO,OAAA,CAAQ,MAAR;;AACP,IAAA,GAAO,OAAA,CAAQ,OAAR,CAAgB,CAAC,SAAS,CAAC;;AAClC,UAAA,GAAa,OAAA,CAAQ,eAAR;;AACb,MAAA,GAAS,OAAA,CAAQ,UAAR;;AACT,YAAA,GAAe,OAAA,CAAQ,iBAAR;;AAST;;;EACS,sBAAC,MAAD,EAAS,OAAT;AACX,QAAA;IAAA,IAAA,GAAO,OAAA,IAAW;IAClB,IAAC,CAAA,MAAD,GAAc,IAAA,YAAA,CAAa,IAAb;IACd,MAAM,CAAC,EAAP,CAAU,KAAV,EAAiB,IAAC,CAAA,GAAG,CAAC,IAAL,CAAU,IAAV,CAAjB;EAHW;;yBAKb,GAAA,GAAK,SAAA;AACH,QAAA;IAAA,SAAA,GAAY,IAAC,CAAA,YAAD,CAAA;IACZ,MAAA,GAAS,MAAM,CAAC,UAAP,CAAkB,SAAlB;IACT,MAAM,CAAC,MAAP,CAAc,IAAC,CAAA,MAAf;WACA,IAAC,CAAA,MAAD,GAAU;EAJP;;yBAML,YAAA,GAAc,SAAA;WACZ,MAAM,CAAC,YAAP,IAAuB;EADX;;yBAGd,QAAA,GAAU,SAAA;WACR,IAAC,CAAA,MAAM,CAAC;EADA;;;;GAfe;;AAkB3B,MAAM,CAAC,OAAP,GAAiB","file":"reporter.js","sourceRoot":"/source/","sourcesContent":["util = require 'util'\nBase = require('mocha').reporters.Base\nFileResult = require './file-result'\nResult = require './result'\nReportWriter = require './report-writer'\n\n#\n# TextReporter\n#\n# options.reporterOptions\n#   satisfactory - Satisfactory code coverage of value\n#   critical - Critical code coverage of value\n#\nclass TextReporter extends Base\n  constructor: (runner, options) ->\n    opts = options || {}\n    @writer = new ReportWriter(opts)\n    runner.on 'end', @end.bind @\n\n  end: ->\n    coverages = @getCoverages()\n    result = Result.createFrom coverages\n    result.sendTo @writer\n    @result = result\n\n  getCoverages: ->\n    global._$jscoverage || {}\n\n  getFiles: () ->\n    @result.files\n\nmodule.exports = TextReporter\n"]}